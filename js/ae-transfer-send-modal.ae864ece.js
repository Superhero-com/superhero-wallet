"use strict";(self["webpackChunksuperhero_wallet"]=self["webpackChunksuperhero_wallet"]||[]).push([[522],{84704:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ye});var n=a(20641);function r(e,t,a,r,s,o){var i=(0,n.g2)("TransferSendBase");return(0,n.uX)(),(0,n.Wv)(i,{protocol:e.PROTOCOLS.aeternity,"current-step":e.currentStep,"hide-arrow-send-icon":e.isMultisig,"custom-primary-button-text":e.customPrimaryButtonText,"sending-disabled":e.isSendingDisabled,onClose:e.resolve,onStepNext:e.proceedToNextStep,onStepPrev:e.editTransfer},{content:(0,n.k6)((function(){return[((0,n.uX)(),(0,n.Wv)((0,n.$y)(e.currentStepConfig.component),{ref:"currentRenderedComponent",transferData:e.transferData,"onUpdate:transferData":t[0]||(t[0]=function(t){return e.transferData=t}),"is-multisig":e.isMultisig,"is-address-chain":e.isAddressChain,"is-address-url":e.isAddressUrl,onSuccess:e.currentStepConfig.onSuccess,onError:t[1]||(t[1]=function(t){return e.error=t})},null,40,["transferData","is-multisig","is-address-chain","is-address-url","onSuccess"]))]})),_:1},8,["protocol","current-step","hide-arrow-send-icon","custom-primary-button-text","sending-disabled","onClose","onStepNext","onStepPrev"])}var s=a(41856),o=(a(99449),a(50953)),i=a(46992),l=a(18743),u=a(91187),c=a(12683),d=a(95891),p=a(93702),v=(a(76918),a(23288),a(9868),a(26099),a(38781),a(90033)),m={class:"multisig-addresses-row"},f={key:0,class:"payload-add-wrapper"},g={class:"payload-options"};function A(e,t,a,r,s,o){var i=(0,n.g2)("ModalHeader"),l=(0,n.g2)("InfoBox"),u=(0,n.g2)("FormSelect"),c=(0,n.g2)("AccountItem"),d=(0,n.g2)("DetailsItem"),p=(0,n.g2)("TransferSendRecipient"),A=(0,n.g2)("BtnMaxAmount"),y=(0,n.g2)("TransferSendAmount"),b=(0,n.g2)("BtnText"),h=(0,n.g2)("BtnHelp"),x=(0,n.g2)("BtnIcon"),k=(0,n.g2)("PayloadDetails"),T=(0,n.g2)("TransferSendFormBase");return(0,n.uX)(),(0,n.Wv)(T,(0,n.v6)(e.$attrs,{"transfer-data":e.transferData,fee:+e.fee.toFixed(),"fee-symbol":e.AE_SYMBOL,protocol:e.PROTOCOLS.aeternity,"custom-title":e.isActiveAccountAirGap?e.$t("airGap.send.title"):void 0,class:"transfer-send-form"}),(0,n.eX)({recipient:(0,n.k6)((function(){return[(0,n.bF)(p,{modelValue:e.formModel.address,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formModel.address=t}),modelModifiers:{trim:!0},errors:e.errors,"is-tip-url":e.isTipUrl,protocol:e.PROTOCOLS.aeternity,placeholder:e.isUrlTippingEnabled?e.$t("modals.send.recipientPlaceholderUrl"):e.$t("modals.send.recipientPlaceholder"),"validation-rules":Object.assign(Object.assign({aens_name_registered_or_address_or_url:e.isUrlTippingEnabled,aens_name_registered_or_address:!e.isUrlTippingEnabled},e.isMultisig?{address_not_same_as:[e.multisigVaultAddress,e.PROTOCOLS.aeternity]}:{}),{token_to_an_address:[!e.isAe],airgap_to_an_address:e.isActiveAccountAirGap}),onOpenQrModal:t[2]||(t[2]=function(t){return e.scanTransferQrCode()})},null,8,["modelValue","errors","is-tip-url","protocol","placeholder","validation-rules"])]})),amount:(0,n.k6)((function(){var a;return[(0,n.bF)(y,{modelValue:e.formModel.amount,"onUpdate:modelValue":[t[3]||(t[3]=function(t){return e.formModel.amount=t}),t[4]||(t[4]=function(t){return e.shouldUseMaxAmount=!1})],"custom-label":e.isMultisig?e.$t("modals.multisigTxProposal.amount"):"",errors:e.errors,"selected-asset":e.formModel.selectedAsset,readonly:e.isMultisig,protocol:e.PROTOCOLS.aeternity,"blink-on-change":e.shouldUseMaxAmount,"validation-rules":Object.assign(Object.assign(Object.assign(Object.assign({},+e.balance.minus(e.fee)>0&&!e.isMultisig?{max_value:e.max}:{}),e.isMultisig?{enough_ae_signer:e.fee.toString()}:{enough_coin:e.fee.toString()}),+e.balance.minus(e.fee)>0&&e.isMultisig?{max_value_vault:null===(a=e.activeMultisigAccount)||void 0===a?void 0:a.balance.toString()}:{}),{ae_min_tip_amount:e.isTipUrl}),onAssetSelected:e.handleAssetChange},{"label-after":(0,n.k6)((function(){return[e.isMultisig?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(A,{key:0,"is-max":e.shouldUseMaxAmount,onClick:e.toggleMaxAmount},null,8,["is-max","onClick"]))]})),_:1},8,["modelValue","custom-label","errors","selected-asset","readonly","protocol","blink-on-change","validation-rules","onAssetSelected"])]})),_:2},[e.isMultisig?{name:"header",fn:(0,n.k6)((function(){return[(0,n.bF)(i,{title:e.$t("modals.multisigTxProposal.title")},null,8,["title"]),e.hasMultisigTokenWarning?((0,n.uX)(),(0,n.Wv)(l,{key:0,type:e.INFO_BOX_TYPES.warning,text:e.$t("modals.multisigTxProposal.tokenWarning")},null,8,["type","text"])):(0,n.Q3)("",!0),(0,n.Lk)("div",m,[(0,n.bF)(d,{class:"multisig-address-item"},{label:(0,n.k6)((function(){return[e.multisigVaultOwnedByManyAccounts?((0,n.uX)(),(0,n.Wv)(u,{key:0,options:e.accountsAllowedToProposeTxSelectOptions,"default-text":e.$t("modals.multisigTxProposal.signingAccount"),value:e.activeAccount.address,class:"account-selector","persistent-default-text":"",unstyled:"","account-select":"",onSelect:t[0]||(t[0]=function(t){return e.selectAccount(t)})},null,8,["options","default-text","value"])):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.eW)((0,v.v_)(e.$t("modals.multisigTxProposal.signingAccount")),1)],64))]})),value:(0,n.k6)((function(){return[(0,n.bF)(c,{address:e.activeAccount.address,protocol:e.activeAccount.protocol},null,8,["address","protocol"])]})),_:1}),(0,n.bF)(d,{class:"multisig-address-item",label:e.$t("modals.multisigTxProposal.multisigVault")},{value:(0,n.k6)((function(){return[(0,n.bF)(c,{address:e.multisigVaultAddress,protocol:e.PROTOCOLS.aeternity},null,8,["address","protocol"])]})),_:1},8,["label"])])]})),key:"0"}:void 0,e.isAe?{name:"extra",fn:(0,n.k6)((function(){return[e.formModel.payload&&e.formModel.payload.length?((0,n.uX)(),(0,n.Wv)(k,{key:1,payload:e.formModel.payload,class:"payload-details"},{default:(0,n.k6)((function(){return[(0,n.Lk)("div",g,[(0,n.bF)(x,{size:"sm",dimmed:"",icon:e.EditIcon,onClick:e.editPayload},null,8,["icon","onClick"]),(0,n.bF)(x,{size:"sm","icon-variant":"danger",dimmed:"",icon:e.DeleteIcon,onClick:e.clearPayload},null,8,["icon","onClick"])])]})),_:1},8,["payload"])):((0,n.uX)(),(0,n.CE)("div",f,[(0,n.bF)(b,{icon:e.PlusCircleIcon,text:e.$t("modals.send.payload"),onClick:e.editPayload},null,8,["icon","text","onClick"]),(0,n.bF)(h,{title:e.$t("modals.payloadInfo.title"),msg:e.$t("modals.payloadInfo.msg")},null,8,["title","msg"])]))]})),key:"1"}:void 0]),1040,["transfer-data","fee","fee-symbol","protocol","custom-title"])}var y=a(34916),b=(a(2008),a(74423),a(21699),a(75220)),h=a(67283),x=a(87087),k=a(34620),T=a(10483),w=a(45795),_=a(13485),O=a(74729),S=a(94648),C=a(7338),M=a(36069),I=a(18766),F=a(33859),P=a(85161),D=a(40114),E=a(2915),R=a(18381),L=a(68953),B=a(34394),$=a(93770),W=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function i(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?a(e.value):r(e.value).then(o,i)}l((n=n.apply(e,t||[])).next())}))};const G=(0,n.pM)({name:"AeTransferSendForm",components:{BtnMaxAmount:E.A,TransferSendAmount:R.A,TransferSendRecipient:D.A,DetailsItem:M.A,BtnIcon:I.A,PayloadDetails:F.A,BtnHelp:P.A,BtnText:C.A,TransferSendFormBase:T.A,InfoBox:S.A,ModalHeader:w.A,AccountItem:_.A,FormSelect:O.A},model:{prop:"transferData"},props:{transferData:{type:Object,required:!0},isMultisig:Boolean},emits:["update:transferData","success","error"],setup:function(e,t){var a=t.emit,r=(0,b.lq)(),s=(0,o.KR)(!1),i=(0,o.KR)(!1),p=(0,o.KR)(!1),v=(0,o.KR)(null),m=(0,c.U8)(),f=m.openModal,g=(0,c.ci)(),A=g.activeMultisigAccount,T=(0,c.ty)(),w=T.balance,_=(0,c.ZN)(),O=_.marketData,C=(0,c.oV)(),M=C.accounts,I=C.activeAccount,F=C.isActiveAccountAirGap,P=C.setActiveAccountByGlobalIdx,D=C.setActiveAccountByAddress,E=(0,c.Y7)(),R=E.getProtocolAvailableTokens;function G(t,a){var n=x.C.getAdapter(l.yv.aeternity).getDefaultCoin(O.value,+w.value);return t?e.isMultisig&&![d.kf,d.cK].includes(t)?void(i.value=!0):(i.value=!1,R(l.yv.aeternity)[t]||n):a?void 0:n}var U=(0,k.x)({transferData:e.transferData,getSelectedAssetValue:G}),X=U.formModel,K=U.errors,V=U.hasError,N=U.invoiceId,Q=U.invoiceContract,Y=U.clearPayload,j=U.handleAssetChange,q=U.updateFormModelValues,H=U.scanTransferQrCode,z=(0,c.Ym)({formModel:X,multisigVault:e.isMultisig?A.value:void 0}),J=z.gasPrice,Z=z.gasUsed,ee=z.max,te=z.fee,ae=z.total,ne=(0,n.EW)((function(){var e;return null===(e=A.value)||void 0===e?void 0:e.gaAccountId})),re=(0,n.EW)((function(){var e;return(null===(e=X.value.selectedAsset)||void 0===e?void 0:e.contractId)===d.cK})),se=(0,n.EW)((function(){return!!X.value.address&&p.value&&(0,u.Ks)(X.value.address)&&!(0,h.wJ)(X.value.address)})),oe=M.value.filter((function(e){var t,a=e.address;return null===(t=A.value)||void 0===t?void 0:t.signers.includes(a)})),ie=(0,n.EW)((function(){return(null===oe||void 0===oe?void 0:oe.length)>1})),le=(0,n.EW)((function(){return(0,u.dZ)(oe)}));function ue(){return W(this,void 0,void 0,(0,y.A)().mark((function e(){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(l.kQ,{payload:X.value.payload});case 3:X.value.payload=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))}function ce(e){e&&(D(e),X.value.amount&&v.value&&v.value.validate())}function de(){s.value=!s.value,s.value&&(X.value.amount=ee.value)}function pe(){var e=Object.assign(Object.assign({},X.value),{gasPrice:J.value,gasUsed:Z.value,fee:te.value,total:+ae.value.toFixed(),invoiceId:N.value,invoiceContract:Q.value});return a("update:transferData",e),(0,n.dY)()}function ve(){return W(this,void 0,void 0,(0,y.A)().mark((function e(){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(V.value){e.next=4;break}return e.next=3,pe();case 3:a("success");case 4:case"end":return e.stop()}}),e)})))}return(0,n.wB)(V,(function(e){return a("error",e)}),{deep:!0}),(0,n.wB)(X,(function(){pe()}),{deep:!0}),(0,n.wB)(ee,(function(e){s.value&&(X.value.amount=e)})),(0,n.wB)(I,(function(){var t,a,n;e.isMultisig&&!(null===(t=A.value)||void 0===t?void 0:t.signers.includes(I.value.address))&&P(oe[0].globalIdx);var s=r.query;(0,u.DB)(s)&&(p.value=!0),q(Object.assign(Object.assign({},s),{token:s.token||(null===(n=null===(a=X.value)||void 0===a?void 0:a.selectedAsset)||void 0===n?void 0:n.contractId)}))}),{deep:!0,immediate:!0}),{INFO_BOX_TYPES:S.F,AE_SYMBOL:d.kf,PROTOCOLS:l.yv,isAe:re,shouldUseMaxAmount:s,hasMultisigTokenWarning:i,multisigVaultAddress:ne,activeMultisigAccount:A,multisigVaultOwnedByManyAccounts:ie,accountsAllowedToProposeTxSelectOptions:le,formModel:X,isUrlTippingEnabled:p,fee:te,max:ee,errors:K,balance:w,isTipUrl:se,activeAccount:I,isActiveAccountAirGap:F,editPayload:ue,clearPayload:Y,scanTransferQrCode:H,handleAssetChange:j,toggleMaxAmount:de,selectAccount:ce,submit:ve,EditIcon:L.A,DeleteIcon:B.A,PlusCircleIcon:$.A}}});var U=a(66262);const X=(0,U.A)(G,[["render",A],["__scopeId","data-v-60235b01"]]),K=X;a(62010);var V={class:"review-tip-wrapper"},N={class:"account-info"},Q={class:"name-address-wrapper"},Y={key:1},j={class:"token-amount-wrapper"},q={class:"lowercase"},H={class:"tip-url"},z={class:"subtitle"};function J(e,t,a,r,s,o){var i=(0,n.g2)("LinkButton"),l=(0,n.g2)("i18n-t"),u=(0,n.g2)("ModalHeader"),c=(0,n.g2)("Avatar"),d=(0,n.g2)("Truncate"),p=(0,n.g2)("AddressTruncated"),m=(0,n.g2)("TokenAmount"),f=(0,n.g2)("FormTextarea");return(0,n.uX)(),(0,n.CE)("div",V,[(0,n.bF)(u,{title:e.$t("pages.send.sendingCryptoToUrl")},{subtitle:(0,n.k6)((function(){return[(0,n.bF)(l,{keypath:"pages.send.tipInfo",tag:"span",class:"subtitle",scope:"global"},{default:(0,n.k6)((function(){return[(0,n.bF)(i,{href:s.AGGREGATOR_URL,class:"link"},{default:(0,n.k6)((function(){return[(0,n.eW)((0,v.v_)(e.$t("pages.notifications.superhero")),1)]})),_:1},8,["href"])]})),_:1})]})),_:1},8,["title"]),(0,n.Lk)("div",N,[(0,n.bF)(c,{address:r.activeAccount.address,size:"lg"},null,8,["address"]),(0,n.Lk)("div",Q,[r.activeAccount.name?((0,n.uX)(),(0,n.Wv)(d,{key:0,str:r.activeAccount.name},null,8,["str"])):((0,n.uX)(),(0,n.CE)("div",Y,(0,v.v_)(o.getDefaultAccountLabel(r.activeAccount)),1)),(0,n.bF)(p,{"show-explorer-link":"",address:r.activeAccount.address,protocol:s.PROTOCOLS.aeternity},null,8,["address","protocol"])])]),(0,n.Lk)("span",j,[(0,n.eW)((0,v.v_)(e.$t("pages.send.sending"))+" ",1),(0,n.bF)(m,{amount:+a.transferData.amount,symbol:o.tokenSymbol,"hide-fiat":o.isAex9,protocol:s.PROTOCOLS.aeternity,"data-cy":"review-total"},null,8,["amount","symbol","hide-fiat","protocol"]),(0,n.Lk)("span",q,(0,v.v_)(e.$t("pages.send.to")),1)]),(0,n.Lk)("div",H,(0,v.v_)(a.transferData.address),1),(0,n.bF)(f,{modelValue:s.note,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.note=e}),size:"sm",label:e.$t("pages.send.messageUrlOwner"),message:o.noteError},{"label-after":(0,n.k6)((function(){return[(0,n.Lk)("span",{class:(0,v.C4)(["counter",{"below-zero":o.charactersLeft<0}])},(0,v.v_)(o.charactersLeft),3)]})),_:1},8,["modelValue","label","message"]),(0,n.Lk)("span",z,(0,v.v_)(e.$t("pages.tipPage.claimingExplanation")),1)])}var Z=a(58846),ee=a(25595),te=a(7532),ae=a(59229),ne=a(83804),re=a(86992),se=a(10192);const oe={name:"TransferReviewTip",components:{AddressTruncated:se.A,LinkButton:ee.A,ModalHeader:w.A,TokenAmount:te.A,FormTextarea:ae.A,Avatar:ne.A,Truncate:re.A},model:{prop:"transferData"},props:{transferData:{type:Object,required:!0}},setup:function(){var e=(0,c.oV)(),t=e.activeAccount;return{activeAccount:t}},data:function(){return{AGGREGATOR_URL:l.G9,AE_CONTRACT_ID:d.cK,PROTOCOLS:l.yv,note:"",noteMaxLength:280}},computed:{isAex9:function(){var e;return(null===(e=this.transferData)||void 0===e||null===(e=e.selectedAsset)||void 0===e?void 0:e.contractId)!==d.cK},noteError:function(){return this.note.length>this.noteMaxLength?this.$t("pages.tipPage.maxNoteLengthError"):null},charactersLeft:function(){return this.noteMaxLength-this.note.length},tokenSymbol:function(){var e;return(null===(e=this.transferData.selectedAsset)||void 0===e?void 0:e.symbol)||"-"}},watch:{noteError:function(e){this.$emit("error",!!e)},note:function(e){this.$emit("input",(0,Z.A)((0,Z.A)({},this.transferData),{},{note:e}))}},methods:{getDefaultAccountLabel:u.$W,submit:function(){this.noteError||this.$emit("success")}}},ie=(0,U.A)(oe,[["render",J],["__scopeId","data-v-0e44419c"]]),le=ie;var ue={class:"custom-header-title"},ce={key:0,class:"multisig-account"};function de(e,t,a,r,s,o){var i=(0,n.g2)("BtnHelp"),l=(0,n.g2)("AccountItem"),u=(0,n.g2)("TransferQRCodeGenerator"),c=(0,n.g2)("DetailsItem"),d=(0,n.g2)("TokenAmount"),p=(0,n.g2)("TransferReviewBase");return(0,n.uX)(),(0,n.Wv)(p,{title:e.headerTitle,subtitle:e.headerSubtitle,"without-subtitle":e.isMultisig,"sender-label":e.isMultisig?e.$t("modals.multisigTxProposal.signingAddress"):void 0,"fee-label":e.isMultisig?e.$t("transaction.proposalTransactionFee"):void 0,"base-token-symbol":e.AE_SYMBOL,"transfer-data":e.transferData,loading:e.loading,"avatar-name":e.isAddressChain?e.transferData.address:void 0,"show-fiat":!e.isSelectedAssetAex9,protocol:e.PROTOCOLS.aeternity,"no-header-padding":e.isActiveAccountAirGap,class:"transfer-review"},(0,n.eX)({title:(0,n.k6)((function(){return[(0,n.Lk)("div",ue,[(0,n.eW)((0,v.v_)(e.headerTitle)+" ",1),e.isActiveAccountAirGap&&!e.isMultisig?((0,n.uX)(),(0,n.Wv)(i,{key:0,title:e.$t("airGap.scan.help.title"),msg:e.$t("airGap.scan.help.msg"),icon:"qr-scan","full-screen":""},null,8,["title","msg"])):(0,n.Q3)("",!0)])]})),subheader:(0,n.k6)((function(){var t;return[e.isMultisig?((0,n.uX)(),(0,n.CE)("div",ce,[(0,n.bF)(l,{address:null===(t=e.activeMultisigAccount)||void 0===t?void 0:t.gaAccountId,protocol:e.PROTOCOLS.aeternity},null,8,["address","protocol"])])):(0,n.Q3)("",!0),e.isActiveAccountAirGap&&!e.isMultisig?((0,n.uX)(),(0,n.Wv)(u,{key:1,"transfer-data":e.transferData},null,8,["transfer-data"])):(0,n.Q3)("",!0)]})),"additional-fee":(0,n.k6)((function(){return[e.isMultisig?((0,n.uX)(),(0,n.Wv)(c,{key:0,class:"details-item additional-fee",label:e.$t("transaction.fee")},{value:(0,n.k6)((function(){return[(0,n.bF)(d,{amount:+e.aettosToAe(e.AE_GET_META_TX_FEE),symbol:e.AE_SYMBOL,protocol:e.PROTOCOLS.aeternity,"high-precision":"","data-cy":"multisig-review-fee"},null,8,["amount","symbol","protocol"])]})),_:1},8,["label"])):(0,n.Q3)("",!0),e.transferData.gasUsed?((0,n.uX)(),(0,n.Wv)(c,{key:1,label:e.isMultisig?e.$t("transaction.proposalEstimatedGasUsed"):e.$t("transaction.estimatedGasUsed"),class:"details-item"},{value:(0,n.k6)((function(){return[(0,n.bF)(d,{amount:e.transferData.gasUsed,symbol:" ",protocol:e.PROTOCOLS.aeternity,"hide-fiat":""},null,8,["amount","protocol"])]})),_:1},8,["label"])):(0,n.Q3)("",!0),e.transferData.gasPrice?((0,n.uX)(),(0,n.Wv)(c,{key:2,label:e.$t("pages.transactionDetails.gasPrice"),class:"details-item"},{value:(0,n.k6)((function(){return[(0,n.bF)(d,{amount:e.transferData.gasPrice,symbol:e.AE_SYMBOL,protocol:e.PROTOCOLS.aeternity},null,8,["amount","symbol","protocol"])]})),_:1},8,["label"])):(0,n.Q3)("",!0),e.gasCost?((0,n.uX)(),(0,n.Wv)(c,{key:3,label:e.isMultisig?e.$t("transaction.proposalGasCost"):e.$t("transaction.gasCost"),class:"details-item"},{value:(0,n.k6)((function(){return[(0,n.bF)(d,{amount:+e.gasCost.toString(),symbol:e.AE_SYMBOL,protocol:e.PROTOCOLS.aeternity},null,8,["amount","symbol","protocol"])]})),_:1},8,["label"])):(0,n.Q3)("",!0)]})),total:(0,n.k6)((function(){return[e.isSelectedAssetAex9?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(c,{key:0,label:e.isMultisig?e.$t("transaction.proposalTotal"):e.$t("common.total"),class:"details-item"},{value:(0,n.k6)((function(){var t;return[(0,n.bF)(d,{amount:+(null===(t=e.transferData)||void 0===t?void 0:t.total),symbol:e.AE_SYMBOL,protocol:e.PROTOCOLS.aeternity,"high-precision":"","data-cy":"review-total"},null,8,["amount","symbol","protocol"])]})),_:1},8,["label"]))]})),_:2},[e.isAddressUrl?{name:"recipient",fn:(0,n.k6)((function(){return[(0,n.bF)(c,{"data-cy":"review-tip-url",class:"tip-url details-item",label:e.$t("pages.send.receivingUrl"),value:e.transferData.address},null,8,["label","value"])]})),key:"0"}:void 0]),1032,["title","subtitle","without-subtitle","sender-label","fee-label","base-token-symbol","transfer-data","loading","avatar-name","show-fiat","protocol","no-header-padding"])}a(44114),a(2892);var pe=a(91087),ve=a(60346),me=a(2205),fe=a(85854),ge=a(22511);const Ae=JSON.parse('[{"namespace":{"name":"Option","typedefs":[]}},{"namespace":{"name":"ListInternal","typedefs":[]}},{"namespace":{"name":"List","typedefs":[]}},{"namespace":{"name":"String","typedefs":[]}},{"contract":{"functions":[{"arguments":[{"name":"_1","type":"int"},{"name":"_2","type":"int"}],"name":"set_paid","payable":false,"returns":"unit","stateful":true}],"kind":"contract_interface","name":"PoS","payable":false,"typedefs":[]}},{"contract":{"event":{"variant":[{"Transfer":["address","address","int"]},{"Allowance":["address","address","int"]},{"Burn":["address","int"]},{"Swap":["address","int"]}]},"functions":[{"arguments":[],"name":"aex9_extensions","payable":false,"returns":{"list":["string"]},"stateful":false},{"arguments":[{"name":"name","type":"string"},{"name":"decimals","type":"int"},{"name":"symbol","type":"string"},{"name":"initial_owner_balance","type":{"option":["int"]}}],"name":"init","payable":false,"returns":"FungibleTokenFull.state","stateful":false},{"arguments":[],"name":"meta_info","payable":false,"returns":"FungibleTokenFull.meta_info","stateful":false},{"arguments":[],"name":"total_supply","payable":false,"returns":"int","stateful":false},{"arguments":[],"name":"owner","payable":false,"returns":"address","stateful":false},{"arguments":[],"name":"balances","payable":false,"returns":"FungibleTokenFull.balances","stateful":false},{"arguments":[{"name":"account","type":"address"}],"name":"balance","payable":false,"returns":{"option":["int"]},"stateful":false},{"arguments":[],"name":"swapped","payable":false,"returns":{"map":["address","int"]},"stateful":false},{"arguments":[],"name":"allowances","payable":false,"returns":"FungibleTokenFull.allowances","stateful":false},{"arguments":[{"name":"allowance_accounts","type":"FungibleTokenFull.allowance_accounts"}],"name":"allowance","payable":false,"returns":{"option":["int"]},"stateful":false},{"arguments":[{"name":"from_account","type":"address"}],"name":"allowance_for_caller","payable":false,"returns":{"option":["int"]},"stateful":false},{"arguments":[{"name":"from_account","type":"address"},{"name":"to_account","type":"address"},{"name":"value","type":"int"}],"name":"transfer_allowance","payable":false,"returns":{"tuple":[]},"stateful":true},{"arguments":[{"name":"for_account","type":"address"},{"name":"value","type":"int"}],"name":"create_allowance","payable":false,"returns":{"tuple":[]},"stateful":true},{"arguments":[{"name":"for_account","type":"address"},{"name":"value_change","type":"int"}],"name":"change_allowance","payable":false,"returns":{"tuple":[]},"stateful":true},{"arguments":[{"name":"for_account","type":"address"}],"name":"reset_allowance","payable":false,"returns":{"tuple":[]},"stateful":true},{"arguments":[{"name":"to_account","type":"address"},{"name":"value","type":"int"}],"name":"transfer","payable":false,"returns":{"tuple":[]},"stateful":true},{"arguments":[{"name":"value","type":"int"}],"name":"burn","payable":false,"returns":{"tuple":[]},"stateful":true},{"arguments":[],"name":"swap","payable":false,"returns":{"tuple":[]},"stateful":true},{"arguments":[{"name":"account","type":"address"}],"name":"check_swap","payable":false,"returns":"int","stateful":true},{"arguments":[{"name":"value","type":"int"},{"name":"pos","type":"PoS"},{"name":"id","type":"int"}],"name":"burn_trigger_pos","payable":false,"returns":{"tuple":[]},"stateful":true}],"kind":"contract_main","name":"FungibleTokenFull","payable":false,"state":{"record":[{"name":"owner","type":"address"},{"name":"total_supply","type":"int"},{"name":"balances","type":"FungibleTokenFull.balances"},{"name":"meta_info","type":"FungibleTokenFull.meta_info"},{"name":"allowances","type":"FungibleTokenFull.allowances"},{"name":"swapped","type":{"map":["address","int"]}}]},"typedefs":[{"name":"meta_info","typedef":{"record":[{"name":"name","type":"string"},{"name":"symbol","type":"string"},{"name":"decimals","type":"int"}]},"vars":[]},{"name":"allowance_accounts","typedef":{"record":[{"name":"from_account","type":"address"},{"name":"for_account","type":"address"}]},"vars":[]},{"name":"balances","typedef":{"map":["address","int"]},"vars":[]},{"name":"allowances","typedef":{"map":["FungibleTokenFull.allowance_accounts","int"]},"vars":[]}]}}]');var ye=a(37246),be={class:"transfer-qr-code-generator"};function he(e,t,a,r,s,o){var i=(0,n.g2)("BtnMain"),l=(0,n.g2)("WrappedQrCode"),u=(0,n.g2)("Loader");return(0,n.uX)(),(0,n.CE)("div",be,[e.fragments?((0,n.uX)(),(0,n.Wv)(l,{key:0,value:e.fragments,size:290,"type-number":0,"external-copied":e.copied},{default:(0,n.k6)((function(){return[(0,n.bF)(i,{class:"btn-copy",icon:e.CopyOutlinedIcon,text:e.$t("pages.send.copy"),variant:"muted",extend:"",onClick:t[0]||(t[0]=function(t){return e.copyAsSingleQR()})},null,8,["icon","text"])]})),_:1},8,["value","external-copied"])):((0,n.uX)(),(0,n.Wv)(u,{key:1}))])}var xe=a(57889),ke=a(41805),Te=a(21547),we=a(90863),_e=a(46721),Oe=a(34676),Se=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function i(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?a(e.value):r(e.value).then(o,i)}l((n=n.apply(e,t||[])).next())}))};const Ce=(0,n.pM)({components:{WrappedQrCode:Te.A,Loader:we.A,BtnMain:_e.A},props:{transferData:{type:Object,required:!0}},setup:function(e){var t=this,a=(0,o.KR)(),r=(0,c.CP)(),s=r.nodeNetworkId,i=r.getAeSdk,l=(0,c.oV)(),p=l.activeAccount,v=l.isActiveAccountAirGap,m=(0,c.gj)(),f=m.generateTransactionURDataFragments,g=(0,c.T9)(),A=g.copy,b=g.copied;function h(){A((0,u.jz)(a.value))}return(0,n.sV)((function(){return Se(t,void 0,void 0,(0,y.A)().mark((function t(){var n,r,o,l,c,m,g,A,b;return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i();case 2:if(o=t.sent,l=e.transferData,c=l.amount,m=l.address,g=l.selectedAsset,c&&m&&g&&v.value){t.next=6;break}return t.abrupt("return",null);case 6:return A=g.contractId===d.cK?(0,ge.qX)(c):(0,u.Y9)(c,-(null!==(n=null===g||void 0===g?void 0:g.decimals)&&void 0!==n?n:0)),t.next=9,o.buildTx({tag:pe.vw.SpendTx,senderId:p.value.address,recipientId:m,amount:new ve.A(A).toFixed().toString(),payload:(0,xe.lF)((new TextEncoder).encode(e.transferData.payload),ke.W.Bytearray)});case 9:return b=t.sent,t.next=12,f(null===(r=p.value)||void 0===r?void 0:r.publicKey,b,s.value);case 12:return a.value=t.sent,t.abrupt("return",null);case 14:case"end":return t.stop()}}),t)})))})),{fragments:a,CopyOutlinedIcon:Oe.A,copied:b,copyAsSingleQR:h}}}),Me=(0,U.A)(Ce,[["render",he],["__scopeId","data-v-e1caeff4"]]),Ie=Me;var Fe=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function i(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?a(e.value):r(e.value).then(o,i)}l((n=n.apply(e,t||[])).next())}))};const Pe=(0,n.pM)({name:"AeTransferReview",components:{TokenAmount:te.A,DetailsItem:M.A,TransferQRCodeGenerator:Ie,TransferReviewBase:ye.A,AccountItem:_.A,BtnHelp:P.A},model:{prop:"transferData"},props:{transferData:{type:Object,required:!0},recipientAddress:{type:String,default:null},amount:{type:Number,default:null},isMultisig:Boolean,isAddressChain:Boolean,isAddressUrl:Boolean},setup:function(e,t){var a=t.emit,r=(0,b.rd)(),s=(0,i.s9)(),p=s.t,v=(0,c.mv)(),m=v.homeRouteName,f=(0,c.U8)(),g=f.openDefaultModal,A=(0,c.si)(),h=A.openCallbackOrGoHome,k=(0,c.rb)(),T=k.addAccountPendingTransaction,w=(0,c.oV)(),_=w.activeAccount,O=w.isActiveAccountAirGap,S=(0,c.CP)(),C=S.getAeSdk,M=(0,c.ci)(),I=M.activeMultisigAccount,F=M.addTransactionToPendingMultisigAccount,P=M.updateMultisigAccounts,D=(0,c.kz)(),E=D.getTippingContracts,R=(0,c.Y7)(),L=R.createOrChangeAllowance,B=(0,o.KR)(!1),$=(0,n.EW)((function(){var t,a;return(null===(a=null===(t=e.transferData)||void 0===t?void 0:t.selectedAsset)||void 0===a?void 0:a.contractId)!==d.cK})),W=(0,n.EW)((function(){return e.isMultisig?(0,me.tg)("modals.multisigTxProposal.title"):O.value?(0,me.tg)("airGap.send.reviewTitle"):(0,me.tg)("pages.send.reviewtx")})),G=(0,n.EW)((function(){return O.value?(0,me.tg)("airGap.send.reviewSubtitle"):(0,me.tg)("pages.send.checkalert")})),U=(0,n.EW)((function(){return e.transferData.gasPrice&&e.transferData.gasUsed?new ve.A(e.transferData.gasPrice).multipliedBy(e.transferData.gasUsed):0}));function X(){g({title:p("modals.transaction-failed.msg"),icon:"critical"})}function K(e,t,a,n,r){return Fe(this,void 0,void 0,(0,y.A)().mark((function s(){var o,i;return(0,y.A)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,C();case 2:return o=s.sent,s.next=5,o.initializeContract({aci:Ae,address:e});case 5:return i=s.sent,s.abrupt("return",i.burn_trigger_pos(n.toFixed(),t,a,r));case 7:case"end":return s.stop()}}),s)})))}function V(t){var n,r=t.amount,s=t.recipient,o=t.selectedAsset;return Fe(this,void 0,void 0,(0,y.A)().mark((function t(){var i,u,c,p,v;return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=o.contractId===d.cK,B.value=!0,t.prev=2,null===e.transferData.invoiceId){t.next=9;break}return t.next=6,K(o.contractId,new ve.A(r).toFixed().toString(),e.transferData.invoiceContract,e.transferData.invoiceId,{waitMined:!1});case 6:u=t.sent,t.next=20;break;case 9:if(i){t.next=16;break}return c=x.C.getAdapter(l.yv.aeternity),t.next=13,null===(n=c.transferToken)||void 0===n?void 0:n.call(c,new ve.A(r).toFixed().toString(),s,o.contractId,{waitMined:!1});case 13:u=t.sent,t.next=20;break;case 16:return p=x.C.getAdapter(l.yv.aeternity),t.next=19,p.spend(Number(r),s,{payload:e.transferData.payload});case 19:u=t.sent;case 20:return u&&(v={hash:u.hash,pending:!0,transactionOwner:_.value.address,protocol:l.yv.aeternity,tx:{amount:Number(r),callerId:_.value.address,contractId:o.contractId,senderId:_.value.address,type:i?pe.vw[pe.vw.SpendTx]:pe.vw[pe.vw.ContractCallTx],function:d.vG.transfer,recipientId:s,arguments:[],fee:0}},T(_.value.address,v)),a("success"),t.abrupt("return",null===u||void 0===u?void 0:u.hash);case 25:throw t.prev=25,t.t0=t["catch"](2),X(),t.t0;case 29:return t.prev=29,B.value=!1,t.finish(29);case 32:case"end":return t.stop()}}),t,null,[[2,25,29,32]])})))}function N(t){var n=t.amount,r=t.recipient,s=t.selectedAsset,o=t.note;return Fe(this,void 0,void 0,(0,y.A)().mark((function t(){var i,c,p,v,m,f;return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return B.value=!0,t.prev=1,i=null,t.next=5,E();case 5:if(c=t.sent,p=c.tippingV1,v=c.tippingV2,m=v||p,s.contractId===d.cK||!v){t.next=17;break}return t.next=12,L(s.contractId,e.amount);case 12:return t.next=14,v.tip_token(r,(0,u.y5)(o),s.contractId,n);case 14:i=t.sent,t.next=20;break;case 17:return t.next=19,m.tip(r,(0,u.y5)(o),{amount:n,waitMined:!1});case 19:i=t.sent;case 20:f={hash:i.hash,pending:!0,protocol:l.yv.aeternity,tipUrl:r,transactionOwner:_.value.address,tx:{amount:n,callerId:_.value.address,contractId:m.$options.address,type:pe.vw[pe.vw.ContractCallTx],function:"tip",selectedTokenContractId:s.contractId,arguments:[],fee:0}},T(_.value.address,f),h(!0),a("success"),t.next=32;break;case 26:throw t.prev=26,t.t0=t["catch"](1),h(!1),X(),t.t0.payload={url:r},t.t0;case 32:return t.prev=32,B.value=!1,t.finish(32);case 35:case"end":return t.stop()}}),t,null,[[1,26,32,35]])})))}function Q(){return Fe(this,void 0,void 0,(0,y.A)().mark((function t(){var n,s,o,i,l,d,p;return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(B.value=!0,t.prev=1,n=(0,c.jC)(),s=n.buildSpendTx,o=n.proposeTx,i=n.postSpendTx,!I.value){t.next=17;break}return t.next=6,s(I.value.gaAccountId,e.transferData.address,(0,ge.qX)(e.transferData.amount),e.transferData.payload||void 0);case 6:return l=t.sent,t.next=9,o(l,I.value.contractId);case 9:return d=t.sent,p=d.proposeTxHash,I.value.pending&&F(p,I.value.gaAccountId,_.value.address),t.next=14,i(l,p);case 14:return t.next=16,P();case 16:r.push({name:fe.Ie});case 17:t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](1),(0,u.fY)(t.t0);case 22:return t.prev=22,a("success"),B.value=!0,t.finish(22);case 26:case"end":return t.stop()}}),t,null,[[1,19,22,26]])})))}function Y(){return Fe(this,void 0,void 0,(0,y.A)().mark((function t(){var n,s,o,i,l,c,p;return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!O.value||e.isMultisig){t.next=3;break}return a("success"),t.abrupt("return");case 3:if(n=e.transferData,s=n.amount,o=n.address,i=n.selectedAsset,l=n.note,s&&o&&i){t.next=6;break}return t.abrupt("return");case 6:if(c=i.contractId===d.cK?(0,ge.qX)(s):(0,u.Y9)(s,i.decimals),!e.isMultisig){t.next=12;break}return t.next=10,Q();case 10:t.next=21;break;case 12:if(!e.isAddressUrl){t.next=17;break}return t.next=15,N({amount:c,recipient:o,selectedAsset:i,note:l});case 15:t.next=21;break;case 17:return t.next=19,V({amount:c,recipient:o,selectedAsset:i});case 19:p=t.sent,r.push({name:m.value,query:{latestTxHash:p}});case 21:case"end":return t.stop()}}),t)})))}return{PROTOCOLS:l.yv,gasCost:U,isActiveAccountAirGap:O,isSelectedAssetAex9:$,activeMultisigAccount:I,aettosToAe:ge.c4,AE_SYMBOL:d.kf,AE_CONTRACT_ID:d.cK,AE_GET_META_TX_FEE:d.M4,loading:B,headerTitle:W,headerSubtitle:G,submit:Y}}}),De=(0,U.A)(Pe,[["render",de],["__scopeId","data-v-15749a18"]]),Ee=De;var Re={class:"transfer-signed-tx-review"},Le={class:"custom-header-title"};function Be(e,t,a,r,s,o){var i=(0,n.g2)("BtnHelp"),l=(0,n.g2)("ModalHeader"),u=(0,n.g2)("FormScanQrResult"),c=(0,n.g2)("AvatarWithChainName"),d=(0,n.g2)("DetailsItem"),p=(0,n.g2)("TokenAmount");return(0,n.uX)(),(0,n.CE)("div",Re,[(0,n.bF)(l,{subtitle:e.$t("airGap.broadcast.subtitle"),"no-padding":""},{title:(0,n.k6)((function(){return[(0,n.Lk)("div",Le,[(0,n.eW)((0,v.v_)(e.$t("airGap.broadcast.title"))+" ",1),(0,n.bF)(i,{title:e.$t("airGap.scan.help.title"),msg:e.$t("airGap.scan.help.msg"),icon:"qr-scan","full-screen":""},null,8,["title","msg"])])]})),_:1},8,["subtitle"]),(0,n.bF)(u,{modelValue:e.syncCode,"onUpdate:modelValue":[t[0]||(t[0]=function(t){return e.syncCode=t}),e.handleInput],label:e.$t("airGap.syncCode.inputLabel"),placeholder:e.$t("airGap.syncCode.inputPlaceholder"),"qr-title":e.$t("airGap.scan.title")},null,8,["modelValue","label","placeholder","qr-title","onUpdate:modelValue"]),e.transferData?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.bF)(d,{label:e.$t("pages.send.sender"),"data-cy":"review-sender"},{value:(0,n.k6)((function(){return[(0,n.bF)(c,{address:e.senderId,"show-address":""},null,8,["address"])]})),_:1},8,["label"]),(0,n.bF)(d,{class:"details-item","data-cy":"review-recipient",label:e.$t("pages.send.recipient")},{value:(0,n.k6)((function(){return[(0,n.bF)(c,{address:e.recipientId,"show-address":""},null,8,["address"])]})),_:1},8,["label"]),(0,n.bF)(d,{label:e.$t("common.amount"),class:"details-item"},{value:(0,n.k6)((function(){return[(0,n.bF)(p,{amount:+e.transferData.amount,symbol:e.AE_SYMBOL,protocol:e.PROTOCOLS.aeternity},null,8,["amount","symbol","protocol"])]})),_:1},8,["label"]),(0,n.bF)(d,{class:"details-item",label:e.$t("transaction.fee")},{value:(0,n.k6)((function(){return[(0,n.bF)(p,{amount:+e.transferData.fee,symbol:e.AE_SYMBOL,protocol:e.PROTOCOLS.aeternity,"high-precision":"","data-cy":"review-fee"},null,8,["amount","symbol","protocol"])]})),_:1},8,["label"]),(0,n.bF)(d,{label:e.$t("common.total"),class:"details-item"},{value:(0,n.k6)((function(){return[(0,n.bF)(p,{amount:+e.transferData.total,symbol:e.AE_SYMBOL,protocol:e.PROTOCOLS.aeternity,"high-precision":"","data-cy":"review-total"},null,8,["amount","symbol","protocol"])]})),_:1},8,["label"])],64)):(0,n.Q3)("",!0)])}var $e=a(19636),We=a(71522),Ge=a(51453),Ue=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function i(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?a(e.value):r(e.value).then(o,i)}l((n=n.apply(e,t||[])).next())}))};const Xe=(0,n.pM)({name:"TransferSignedTxReview",components:{ModalHeader:w.A,AvatarWithChainName:We.A,DetailsItem:M.A,TokenAmount:te.A,FormScanQrResult:Ge.A,BtnHelp:P.A},emits:["success","error"],setup:function(e,t){var a=t.emit,r=(0,c.U8)(),s=r.openModal,i=(0,c.CP)(),p=i.getAeSdk,v=(0,c.gj)(),m=v.extractSignedTransactionResponseData,f=v.deserializeData,g=(0,o.KR)(),A=(0,o.KR)(),b=(0,o.KR)(),h=(0,o.KR)(),x=(0,o.KR)("");function k(e){var t=(0,$e.pj)(e),a=t.encodedTx;if(a){A.value=null===a||void 0===a?void 0:a.recipientId,b.value=null===a||void 0===a?void 0:a.senderId;var n=new ve.A((0,ge.c4)((null===a||void 0===a?void 0:a.fee)||0)),r=new ve.A((0,ge.c4)((null===a||void 0===a?void 0:a.amount)||0));return{amount:(0,ge.c4)((null===a||void 0===a?void 0:a.amount)||0).toString(),fee:n,total:n.plus(r).toNumber(),payload:a.payload}}}function T(){return Ue(this,void 0,void 0,(0,y.A)().mark((function e(){var t,a;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Bv)(x.value);case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t=x.value;case 9:return e.next=11,f(t);case 11:return a=e.sent,e.next=14,m(a);case 14:h.value=e.sent,g.value=k(h.value);case 16:case"end":return e.stop()}}),e,null,[[0,6]])})))}function w(){return Ue(this,void 0,void 0,(0,y.A)().mark((function e(){var t,n,r,o,i,v,m,f,A,b,x,k,T,w;return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a("success"),e.prev=1,e.next=4,p();case 4:return t=e.sent,n=(0,c.oV)(),r=n.activeAccount,o=(0,c.rb)(),i=o.addAccountPendingTransaction,e.next=9,t.api.postTransaction({tx:h.value});case 9:if(v=e.sent,s(l.o1,{title:(0,me.tg)("pages.send.title"),transaction:v}),m=g.value,f=m.amount,A=m.fee,b=m.selectedAsset,x=m.address,k=(null===b||void 0===b?void 0:b.contractId)===d.cK,f&&x&&b){e.next=15;break}return e.abrupt("return");case 15:T=(null===b||void 0===b?void 0:b.contractId)===d.cK?(0,ge.qX)(f):(0,u.Y9)(f,null===b||void 0===b?void 0:b.decimals),w={hash:v.txHash,pending:!0,transactionOwner:r.value.address,protocol:l.yv.aeternity,tx:{amount:Number(T),callerId:r.value.address,contractId:null===b||void 0===b?void 0:b.contractId,senderId:r.value.address,type:k?pe.vw[pe.vw.SpendTx]:pe.vw[pe.vw.ContractCallTx],function:d.vG.transfer,recipientId:x,arguments:[],fee:Number(A)}},i(r.value.address,w),e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](1),s(l.o1,{title:(0,me.tg)("modals.transaction-failed.title"),icon:"critical"});case 23:case"end":return e.stop()}}),e,null,[[1,20]])})))}function _(){return Ue(this,void 0,void 0,(0,y.A)().mark((function e(){return(0,y.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return h.value=null,g.value=void 0,e.prev=2,e.next=5,T();case 5:a("error",!1),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),a("error",!0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))}return(0,n.sV)((function(){a("error",!0)})),{AE_SYMBOL:d.kf,AE_CONTRACT_ID:d.cK,PROTOCOLS:l.yv,transferData:g,senderId:b,recipientId:A,syncCode:x,submit:w,aettosToAe:ge.c4,handleInput:_}}}),Ke=(0,U.A)(Xe,[["render",Be],["__scopeId","data-v-fed7cacc"]]),Ve=Ke,Ne=(0,n.pM)({name:l.iP,components:{TransferSendBase:p.A},props:Object.assign(Object.assign({},p.g),{tokenContractId:{type:String,default:null},isMultisig:Boolean}),setup:function(e){var t=(0,i.s9)(),a=t.t,r=(0,c.CP)(),p=r.isAeNodeReady,v=(0,c.Y7)(),m=v.getProtocolAvailableTokens,f=(0,c.oV)(),g=f.isActiveAccountAirGap,A=(0,o.KR)(),y=(0,o.KR)(l.x0.form),b=(0,o.KR)(!1),h=(0,o.KR)({address:e.address,amount:e.amount,payload:e.payload,selectedAsset:e.tokenContractId?m(l.yv.aeternity)[e.tokenContractId]:void 0}),x=(0,n.EW)((function(){var e;return!!(null===(e=h.value.address)||void 0===e?void 0:e.endsWith(d.CT))})),k=(0,n.EW)((function(){return!x.value&&h.value.address&&(0,u.Ks)(h.value.address)})),T=(0,n.EW)((function(){return y.value===l.x0.review&&g.value})),w=(0,n.EW)((function(){return b.value||!p.value||!T.value&&(!h.value.address||!h.value.amount)})),_=(0,n.EW)((function(){return e.isMultisig?a("modals.multisigTxProposal.proposeAndApprove"):T.value?a("common.next"):""}));function O(){A.value.submit()}function S(){y.value=k.value?l.x0.reviewTip:l.x0.review}function C(){y.value=l.x0.review}function M(){g.value&&!e.isMultisig?y.value=l.x0.airGapSign:e.resolve()}function I(){e.resolve()}function F(){b.value=!1,y.value=l.x0.form}var P=(0,s.A)((0,s.A)((0,s.A)((0,s.A)({},l.x0.form,{component:K,onSuccess:S}),l.x0.reviewTip,{component:le,onSuccess:C}),l.x0.review,{component:Ee,onSuccess:M}),l.x0.airGapSign,{component:Ve,onSuccess:I}),D=(0,n.EW)((function(){return P[y.value]}));return{TRANSFER_SEND_STEPS:l.x0,PROTOCOLS:l.yv,currentRenderedComponent:A,steps:P,currentStep:y,error:b,transferData:h,currentStepConfig:D,isAddressChain:x,isAddressUrl:k,isSendingDisabled:w,customPrimaryButtonText:_,proceedToNextStep:O,editTransfer:F}}}),Qe=(0,U.A)(Ne,[["render",r]]),Ye=Qe}}]);